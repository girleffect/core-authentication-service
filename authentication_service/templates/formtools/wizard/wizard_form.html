{% extends "base.html" %}
{% load i18n %}

{% block content %}
<form method="post" class="Form" enctype="multipart/form-data" novalidate>
    {% csrf_token %}
    {{ wizard.management_form }}
    {% if wizard.form.forms %}
        {{ wizard.form.management_form }}
        {{ wizard.form.non_form_errors }}
        {% for form in wizard.form.forms %}
            {{ form.as_div }}
        {% endfor %}
    {% else %}
        {{ wizard.form.as_div }}
    {% endif %}

    {# Submit button text should display next for all steps except the last #}
    {% if wizard.steps.current == wizard.steps.last %}
        <input class="Button"type="submit" name="submit" value="{% trans "Submit" %}" />
    {% else %}
        <input class="Button"type="submit" name="submit" value="{% trans "Next" %}" />
    {% endif %}

    {# Only display the back to first step button if it is not the previous step #}
    {% if wizard.steps.prev and wizard.steps.prev != wizard.steps.first %}
        <button class="Button" name="wizard_goto_step" type="submit" value="{{ wizard.steps.first }}">
            {% trans "First step" %}
        </button>
        <button class="Button" name="wizard_goto_step" type="submit" value="{{ wizard.steps.prev }}">
            {% trans "Prev step" %}
        </button>
    {% elif wizard.steps.prev %}
        <button class="Button" name="wizard_goto_step" type="submit" value="{{ wizard.steps.prev }}">
            {% trans "Prev step" %}
        </button>
    {% endif %}
</form>
{% endblock content %}
