{% load i18n static %}

<!DOCTYPE html>

{% comment %}
    TODO: Check what additions are needed for translation. There are already other tickets for this.
{% endcomment %}
<html lang="{{ LANGUAGE_CODE|default:"en-us" }}">
    <head>
        {% comment %}
            Only override the head block if there is no other way around it.
        {% endcomment %}
        {% block head %}
            <title>{% block title %}{% endblock %}</title>

            {% comment %}
                Default to the django admin base stylesheet for now.
            {% endcomment %}
            <link rel="stylesheet" type="text/css" href="{% block stylesheet %}{% static "authentication_service/css/style.basic.css" %}{% endblock %}" />

            <script type="text/javascript">
                var CutsTheMustard = 'querySelector' in document && 'localStorage' in window && 'addEventListener' in window;
                if (CutsTheMustard) {
                    // Load Enhanced Styles. This blocks page loading to prevent FOUC.
                    document.write('<link rel="stylesheet" type="text/css" href="{% static "authentication_service/css/style.enhanced.css" %}" />');
                }
            </script>

            {% block extrastyle %}{% endblock %}

            {% comment %}
                Generic block for extra header content that is not style related.
            {% endcomment %}
            {% block extrahead %}{% endblock %}

        {% endblock %}
    </head>

    <body>
        <div id="container" class="body">

            <!-- Header -->
            <div id="header" class="header">
                <div id="branding" class="branding">{% block branding %}{% endblock %}</div>

                <div class="links">
                    {% block links %}
                        <a href="{% url "update_password" %}">{% trans "Change password" %}</a> /
                        <a href="{% url "admin:logout" %}">{% trans "Log out" %}</a>
                    {% endblock %}
                </div>

                {% comment %}
                    There might be a need for a nav later on.
                {% endcomment %}
                {% block header-nav %}{% endblock %}
            </div>
            <!-- END Header -->

            {% comment %}
                There might be a need for a nav bar later on.

                TODO: See into perhaps adding referer app into breadcrumbs.
            {% endcomment %}
            {% block breadcrumbs %}
                <div class="breadcrumbs">
                    <a href="">{% trans "App name" %}</a>
                    &rsaquo; {% trans "Current page" %}
                </div>
            {% endblock %}


            {% comment %}
                This allows django messages from the messaging framework to be displayed.
            {% endcomment %}
            {% block messages %}
                {% if messages %}
                    <ul id="messagelist" class="messagelist">
                        {% for message in messages %}
                            <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message|capfirst }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
            {% endblock messages %}

            {% comment %}
                Generally only changing content will suffice for templates.
            {% endcomment %}
            <div id="content" class="content">
                {% block content %}{% endblock %}
            </div>

            {% block footer %}<div id="footer" class="footer"></div>{% endblock %}
        </div>
    </body>
</html>
